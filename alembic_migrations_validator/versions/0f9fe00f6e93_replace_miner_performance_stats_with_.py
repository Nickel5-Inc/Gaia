"""Replace miner_performance_stats with weather_forecast_stats and miner_stats tables

Revision ID: 0f9fe00f6e93
Revises: 5fda479e51b2
Create Date: 2025-08-11 16:39:59.964563

"""
from typing import Sequence, Union

import sqlalchemy as sa
from alembic import op
from sqlalchemy.dialects import postgresql

# revision identifiers, used by Alembic.
revision: str = '0f9fe00f6e93'
down_revision: Union[str, None] = '5fda479e51b2'
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    """Upgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('miner_stats',
    sa.Column('miner_uid', sa.Integer(), nullable=False, comment="Miner's UID (0-255)"),
    sa.Column('miner_hotkey', sa.VARCHAR(length=255), nullable=False, comment="Miner's hotkey"),
    sa.Column('miner_rank', sa.Integer(), nullable=True, comment='Current overall rank among all miners'),
    sa.Column('avg_forecast_score', sa.Float(), nullable=True, comment='Average score across all forecasts'),
    sa.Column('successful_forecasts', sa.Integer(), server_default=sa.text('0'), nullable=False, comment='Number of successfully completed forecasts'),
    sa.Column('failed_forecasts', sa.Integer(), server_default=sa.text('0'), nullable=False, comment='Number of failed forecasts'),
    sa.Column('forecast_success_ratio', sa.Float(), nullable=True, comment='Ratio of successful to total forecasts (0-1)'),
    sa.Column('hosting_successes', sa.Integer(), server_default=sa.text('0'), nullable=False, comment='Number of successful kerchunk file retrievals'),
    sa.Column('hosting_failures', sa.Integer(), server_default=sa.text('0'), nullable=False, comment='Number of failed kerchunk file retrievals'),
    sa.Column('host_reliability_ratio', sa.Float(), nullable=True, comment='Ratio of successful hosting attempts (0-1)'),
    sa.Column('avg_hosting_latency_ms', sa.Float(), nullable=True, comment='Average latency for accessing hosted files in milliseconds'),
    sa.Column('avg_day1_score', sa.Float(), nullable=True, comment='Average day 1 GFS comparison score'),
    sa.Column('avg_era5_score', sa.Float(), nullable=True, comment='Average ERA5 comparison score across all timesteps'),
    sa.Column('avg_era5_completeness', sa.Float(), nullable=True, comment='Average completeness of ERA5 scoring (0-1)'),
    sa.Column('best_forecast_score', sa.Float(), nullable=True, comment='Best single forecast score achieved'),
    sa.Column('worst_forecast_score', sa.Float(), nullable=True, comment='Worst single forecast score'),
    sa.Column('score_std_dev', sa.Float(), nullable=True, comment='Standard deviation of forecast scores'),
    sa.Column('last_successful_forecast', postgresql.TIMESTAMP(timezone=True), nullable=True, comment='Timestamp of last successful forecast'),
    sa.Column('last_failed_forecast', postgresql.TIMESTAMP(timezone=True), nullable=True, comment='Timestamp of last failed forecast'),
    sa.Column('consecutive_successes', sa.Integer(), server_default=sa.text('0'), nullable=False, comment='Current streak of successful forecasts'),
    sa.Column('consecutive_failures', sa.Integer(), server_default=sa.text('0'), nullable=False, comment='Current streak of failed forecasts'),
    sa.Column('total_inference_time', sa.BigInteger(), server_default=sa.text('0'), nullable=False, comment='Total inference time across all forecasts in seconds'),
    sa.Column('avg_inference_time', sa.Float(), nullable=True, comment='Average inference time per forecast in seconds'),
    sa.Column('common_errors', postgresql.JSONB(astext_type=sa.Text()), nullable=True, comment='Most common error types and their frequencies'),
    sa.Column('error_rate_by_type', postgresql.JSONB(astext_type=sa.Text()), nullable=True, comment='Error rates broken down by forecast type'),
    sa.Column('first_seen', postgresql.TIMESTAMP(timezone=True), nullable=True, comment='When this miner was first seen'),
    sa.Column('last_active', postgresql.TIMESTAMP(timezone=True), nullable=True, comment='Last time this miner was active'),
    sa.Column('validator_hotkey', sa.Text(), nullable=True, comment='Validator that generated these stats'),
    sa.Column('updated_at', postgresql.TIMESTAMP(timezone=True), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False, comment='When these stats were last updated'),
    sa.ForeignKeyConstraint(['miner_uid'], ['node_table.uid'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('miner_uid'),
    comment='Aggregated statistics for each miner across all weather forecasting tasks'
    )
    with op.batch_alter_table('miner_stats', schema=None) as batch_op:
        batch_op.create_index('idx_ms_active_miners', [sa.literal_column('last_active DESC')], unique=False, postgresql_where=sa.text('last_active IS NOT NULL'))
        batch_op.create_index('idx_ms_avg_forecast_score', [sa.literal_column('avg_forecast_score DESC')], unique=False)
        batch_op.create_index('idx_ms_consecutive_failures', ['consecutive_failures'], unique=False)
        batch_op.create_index('idx_ms_forecast_success_ratio', [sa.literal_column('forecast_success_ratio DESC')], unique=False)
        batch_op.create_index('idx_ms_host_reliability_ratio', [sa.literal_column('host_reliability_ratio DESC')], unique=False)
        batch_op.create_index('idx_ms_last_active', [sa.literal_column('last_active DESC')], unique=False)
        batch_op.create_index('idx_ms_miner_hotkey', ['miner_hotkey'], unique=False)
        batch_op.create_index('idx_ms_miner_rank', ['miner_rank'], unique=False)

    op.create_table('weather_forecast_stats',
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('miner_uid', sa.Integer(), nullable=False, comment="Miner's UID (0-255)"),
    sa.Column('miner_hotkey', sa.VARCHAR(length=255), nullable=False, comment="Miner's hotkey"),
    sa.Column('miner_rank', sa.Integer(), nullable=True, comment="Miner's rank for this forecast run"),
    sa.Column('forecast_run_id', sa.VARCHAR(length=100), nullable=False, comment='Deterministic run ID shared across validators'),
    sa.Column('run_id', sa.Integer(), nullable=True, comment='Link to weather_forecast_runs table'),
    sa.Column('forecast_init_time', postgresql.TIMESTAMP(timezone=True), nullable=False, comment='GFS initialization time for the forecast'),
    sa.Column('forecast_status', sa.VARCHAR(length=50), nullable=False, comment='Current stage: pending, input_received, day1_scored, era5_scoring, completed, failed'),
    sa.Column('forecast_error_msg', postgresql.JSONB(astext_type=sa.Text()), nullable=True, comment='Detailed error information with sensitive data redacted'),
    sa.Column('forecast_score_initial', sa.Float(), nullable=True, comment='Day 1 GFS comparison score'),
    sa.Column('era5_score_24h', sa.Float(), nullable=True, comment='ERA5 score at 24 hour lead time'),
    sa.Column('era5_score_48h', sa.Float(), nullable=True, comment='ERA5 score at 48 hour lead time'),
    sa.Column('era5_score_72h', sa.Float(), nullable=True, comment='ERA5 score at 72 hour lead time'),
    sa.Column('era5_score_96h', sa.Float(), nullable=True, comment='ERA5 score at 96 hour lead time'),
    sa.Column('era5_score_120h', sa.Float(), nullable=True, comment='ERA5 score at 120 hour lead time'),
    sa.Column('era5_score_144h', sa.Float(), nullable=True, comment='ERA5 score at 144 hour lead time'),
    sa.Column('era5_score_168h', sa.Float(), nullable=True, comment='ERA5 score at 168 hour lead time'),
    sa.Column('era5_score_192h', sa.Float(), nullable=True, comment='ERA5 score at 192 hour lead time'),
    sa.Column('era5_score_216h', sa.Float(), nullable=True, comment='ERA5 score at 216 hour lead time'),
    sa.Column('era5_score_240h', sa.Float(), nullable=True, comment='ERA5 score at 240 hour lead time'),
    sa.Column('era5_combined_score', sa.Float(), nullable=True, comment='Average across all ERA5 timesteps (including 0s for incomplete)'),
    sa.Column('era5_completeness', sa.Float(), nullable=True, comment='Fraction of ERA5 timesteps completed (0-1)'),
    sa.Column('forecast_type', sa.VARCHAR(length=50), server_default=sa.text("'10day'"), nullable=False, comment='Type of forecast: 10day, hindcast, cyclone_path, etc.'),
    sa.Column('forecast_inference_time', sa.Integer(), nullable=True, comment='Time taken for inference in seconds'),
    sa.Column('forecast_input_sources', postgresql.JSONB(astext_type=sa.Text()), nullable=True, comment='Input data sources used for the forecast'),
    sa.Column('hosting_status', sa.VARCHAR(length=50), nullable=True, comment='Status of hosting: accessible, inaccessible, timeout, error'),
    sa.Column('hosting_latency_ms', sa.Integer(), nullable=True, comment='Latency in milliseconds for accessing hosted files'),
    sa.Column('validator_hotkey', sa.Text(), nullable=True, comment='Validator that generated these stats'),
    sa.Column('created_at', postgresql.TIMESTAMP(timezone=True), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False, comment='When this record was created'),
    sa.Column('updated_at', postgresql.TIMESTAMP(timezone=True), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False, comment='When this record was last updated'),
    sa.ForeignKeyConstraint(['miner_uid'], ['node_table.uid'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['run_id'], ['weather_forecast_runs.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('miner_uid', 'forecast_run_id', name='uq_wfs_miner_forecast'),
    comment='Comprehensive weather forecast statistics for each miner per forecast run'
    )
    with op.batch_alter_table('weather_forecast_stats', schema=None) as batch_op:
        batch_op.create_index('idx_wfs_created_at', [sa.literal_column('created_at DESC')], unique=False)
        batch_op.create_index('idx_wfs_era5_combined_score', [sa.literal_column('era5_combined_score DESC')], unique=False)
        batch_op.create_index('idx_wfs_forecast_init_time', [sa.literal_column('forecast_init_time DESC')], unique=False)
        batch_op.create_index('idx_wfs_forecast_run_id', ['forecast_run_id'], unique=False)
        batch_op.create_index('idx_wfs_forecast_status', ['forecast_status'], unique=False)
        batch_op.create_index('idx_wfs_forecast_type_init_time', ['forecast_type', sa.literal_column('forecast_init_time DESC')], unique=False)
        batch_op.create_index('idx_wfs_miner_hotkey', ['miner_hotkey'], unique=False)
        batch_op.create_index('idx_wfs_miner_rank', ['miner_rank'], unique=False)
        batch_op.create_index('idx_wfs_miner_uid', ['miner_uid'], unique=False)
        batch_op.create_index('idx_wfs_run_id', ['run_id'], unique=False)

    with op.batch_alter_table('miner_performance_stats', schema=None) as batch_op:
        batch_op.drop_index(batch_op.f('idx_mps_calculated_at'))
        batch_op.drop_index(batch_op.f('idx_mps_chain_integration'), postgresql_where='(weight_submission_block IS NOT NULL)')
        batch_op.drop_index(batch_op.f('idx_mps_consensus_rank'), postgresql_where='(consensus_rank IS NOT NULL)')
        batch_op.drop_index(batch_op.f('idx_mps_geomagnetic_rank'))
        batch_op.drop_index(batch_op.f('idx_mps_incentive'), postgresql_where='(incentive IS NOT NULL)')
        batch_op.drop_index(batch_op.f('idx_mps_last_active'))
        batch_op.drop_index(batch_op.f('idx_mps_miner_hotkey'))
        batch_op.drop_index(batch_op.f('idx_mps_overall_rank'))
        batch_op.drop_index(batch_op.f('idx_mps_overall_score'))
        batch_op.drop_index(batch_op.f('idx_mps_pathway_performance'))
        batch_op.drop_index(batch_op.f('idx_mps_period_type_start'))
        batch_op.drop_index(batch_op.f('idx_mps_scoring_pathway'))
        batch_op.drop_index(batch_op.f('idx_mps_soil_rank'))
        batch_op.drop_index(batch_op.f('idx_mps_submitted_weight'), postgresql_where='(submitted_weight IS NOT NULL)')
        batch_op.drop_index(batch_op.f('idx_mps_validator_hotkey'))
        batch_op.drop_index(batch_op.f('idx_mps_weather_rank'))
        batch_op.drop_index(batch_op.f('idx_mps_weight_submission_block'), postgresql_where='(weight_submission_block IS NOT NULL)')

    op.drop_table('miner_performance_stats')
    with op.batch_alter_table('geomagnetic_history', schema=None) as batch_op:
        batch_op.create_index('idx_gh_query_time_miner_uid', ['query_time', 'miner_uid'], unique=False)

    with op.batch_alter_table('geomagnetic_predictions', schema=None) as batch_op:
        batch_op.alter_column('retry_count',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               existing_nullable=True)
        batch_op.create_index('idx_gp_miner_uid', ['miner_uid'], unique=False)
        batch_op.create_index('idx_gp_miner_uid_query_time', ['miner_uid', sa.literal_column('query_time DESC')], unique=False)

    with op.batch_alter_table('perturb_seed', schema=None) as batch_op:
        batch_op.drop_index(batch_op.f('idx_perturb_seed_activation'))

    with op.batch_alter_table('score_table', schema=None) as batch_op:
        batch_op.alter_column('task_name',
               existing_type=sa.VARCHAR(length=255),
               comment='Name of the task being scored',
               existing_nullable=True)
        batch_op.alter_column('task_id',
               existing_type=sa.TEXT(),
               comment='Unique ID for the specific task instance',
               existing_nullable=True)
        batch_op.alter_column('uid_0_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 0',
               existing_nullable=True)
        batch_op.alter_column('uid_1_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 1',
               existing_nullable=True)
        batch_op.alter_column('uid_2_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 2',
               existing_nullable=True)
        batch_op.alter_column('uid_3_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 3',
               existing_nullable=True)
        batch_op.alter_column('uid_4_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 4',
               existing_nullable=True)
        batch_op.alter_column('uid_5_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 5',
               existing_nullable=True)
        batch_op.alter_column('uid_6_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 6',
               existing_nullable=True)
        batch_op.alter_column('uid_7_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 7',
               existing_nullable=True)
        batch_op.alter_column('uid_8_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 8',
               existing_nullable=True)
        batch_op.alter_column('uid_9_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 9',
               existing_nullable=True)
        batch_op.alter_column('uid_10_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 10',
               existing_nullable=True)
        batch_op.alter_column('uid_11_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 11',
               existing_nullable=True)
        batch_op.alter_column('uid_12_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 12',
               existing_nullable=True)
        batch_op.alter_column('uid_13_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 13',
               existing_nullable=True)
        batch_op.alter_column('uid_14_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 14',
               existing_nullable=True)
        batch_op.alter_column('uid_15_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 15',
               existing_nullable=True)
        batch_op.alter_column('uid_16_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 16',
               existing_nullable=True)
        batch_op.alter_column('uid_17_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 17',
               existing_nullable=True)
        batch_op.alter_column('uid_18_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 18',
               existing_nullable=True)
        batch_op.alter_column('uid_19_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 19',
               existing_nullable=True)
        batch_op.alter_column('uid_20_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 20',
               existing_nullable=True)
        batch_op.alter_column('uid_21_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 21',
               existing_nullable=True)
        batch_op.alter_column('uid_22_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 22',
               existing_nullable=True)
        batch_op.alter_column('uid_23_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 23',
               existing_nullable=True)
        batch_op.alter_column('uid_24_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 24',
               existing_nullable=True)
        batch_op.alter_column('uid_25_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 25',
               existing_nullable=True)
        batch_op.alter_column('uid_26_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 26',
               existing_nullable=True)
        batch_op.alter_column('uid_27_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 27',
               existing_nullable=True)
        batch_op.alter_column('uid_28_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 28',
               existing_nullable=True)
        batch_op.alter_column('uid_29_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 29',
               existing_nullable=True)
        batch_op.alter_column('uid_30_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 30',
               existing_nullable=True)
        batch_op.alter_column('uid_31_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 31',
               existing_nullable=True)
        batch_op.alter_column('uid_32_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 32',
               existing_nullable=True)
        batch_op.alter_column('uid_33_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 33',
               existing_nullable=True)
        batch_op.alter_column('uid_34_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 34',
               existing_nullable=True)
        batch_op.alter_column('uid_35_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 35',
               existing_nullable=True)
        batch_op.alter_column('uid_36_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 36',
               existing_nullable=True)
        batch_op.alter_column('uid_37_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 37',
               existing_nullable=True)
        batch_op.alter_column('uid_38_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 38',
               existing_nullable=True)
        batch_op.alter_column('uid_39_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 39',
               existing_nullable=True)
        batch_op.alter_column('uid_40_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 40',
               existing_nullable=True)
        batch_op.alter_column('uid_41_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 41',
               existing_nullable=True)
        batch_op.alter_column('uid_42_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 42',
               existing_nullable=True)
        batch_op.alter_column('uid_43_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 43',
               existing_nullable=True)
        batch_op.alter_column('uid_44_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 44',
               existing_nullable=True)
        batch_op.alter_column('uid_45_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 45',
               existing_nullable=True)
        batch_op.alter_column('uid_46_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 46',
               existing_nullable=True)
        batch_op.alter_column('uid_47_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 47',
               existing_nullable=True)
        batch_op.alter_column('uid_48_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 48',
               existing_nullable=True)
        batch_op.alter_column('uid_49_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 49',
               existing_nullable=True)
        batch_op.alter_column('uid_50_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 50',
               existing_nullable=True)
        batch_op.alter_column('uid_51_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 51',
               existing_nullable=True)
        batch_op.alter_column('uid_52_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 52',
               existing_nullable=True)
        batch_op.alter_column('uid_53_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 53',
               existing_nullable=True)
        batch_op.alter_column('uid_54_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 54',
               existing_nullable=True)
        batch_op.alter_column('uid_55_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 55',
               existing_nullable=True)
        batch_op.alter_column('uid_56_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 56',
               existing_nullable=True)
        batch_op.alter_column('uid_57_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 57',
               existing_nullable=True)
        batch_op.alter_column('uid_58_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 58',
               existing_nullable=True)
        batch_op.alter_column('uid_59_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 59',
               existing_nullable=True)
        batch_op.alter_column('uid_60_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 60',
               existing_nullable=True)
        batch_op.alter_column('uid_61_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 61',
               existing_nullable=True)
        batch_op.alter_column('uid_62_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 62',
               existing_nullable=True)
        batch_op.alter_column('uid_63_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 63',
               existing_nullable=True)
        batch_op.alter_column('uid_64_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 64',
               existing_nullable=True)
        batch_op.alter_column('uid_65_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 65',
               existing_nullable=True)
        batch_op.alter_column('uid_66_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 66',
               existing_nullable=True)
        batch_op.alter_column('uid_67_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 67',
               existing_nullable=True)
        batch_op.alter_column('uid_68_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 68',
               existing_nullable=True)
        batch_op.alter_column('uid_69_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 69',
               existing_nullable=True)
        batch_op.alter_column('uid_70_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 70',
               existing_nullable=True)
        batch_op.alter_column('uid_71_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 71',
               existing_nullable=True)
        batch_op.alter_column('uid_72_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 72',
               existing_nullable=True)
        batch_op.alter_column('uid_73_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 73',
               existing_nullable=True)
        batch_op.alter_column('uid_74_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 74',
               existing_nullable=True)
        batch_op.alter_column('uid_75_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 75',
               existing_nullable=True)
        batch_op.alter_column('uid_76_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 76',
               existing_nullable=True)
        batch_op.alter_column('uid_77_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 77',
               existing_nullable=True)
        batch_op.alter_column('uid_78_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 78',
               existing_nullable=True)
        batch_op.alter_column('uid_79_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 79',
               existing_nullable=True)
        batch_op.alter_column('uid_80_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 80',
               existing_nullable=True)
        batch_op.alter_column('uid_81_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 81',
               existing_nullable=True)
        batch_op.alter_column('uid_82_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 82',
               existing_nullable=True)
        batch_op.alter_column('uid_83_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 83',
               existing_nullable=True)
        batch_op.alter_column('uid_84_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 84',
               existing_nullable=True)
        batch_op.alter_column('uid_85_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 85',
               existing_nullable=True)
        batch_op.alter_column('uid_86_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 86',
               existing_nullable=True)
        batch_op.alter_column('uid_87_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 87',
               existing_nullable=True)
        batch_op.alter_column('uid_88_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 88',
               existing_nullable=True)
        batch_op.alter_column('uid_89_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 89',
               existing_nullable=True)
        batch_op.alter_column('uid_90_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 90',
               existing_nullable=True)
        batch_op.alter_column('uid_91_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 91',
               existing_nullable=True)
        batch_op.alter_column('uid_92_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 92',
               existing_nullable=True)
        batch_op.alter_column('uid_93_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 93',
               existing_nullable=True)
        batch_op.alter_column('uid_94_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 94',
               existing_nullable=True)
        batch_op.alter_column('uid_95_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 95',
               existing_nullable=True)
        batch_op.alter_column('uid_96_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 96',
               existing_nullable=True)
        batch_op.alter_column('uid_97_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 97',
               existing_nullable=True)
        batch_op.alter_column('uid_98_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 98',
               existing_nullable=True)
        batch_op.alter_column('uid_99_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 99',
               existing_nullable=True)
        batch_op.alter_column('uid_100_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 100',
               existing_nullable=True)
        batch_op.alter_column('uid_101_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 101',
               existing_nullable=True)
        batch_op.alter_column('uid_102_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 102',
               existing_nullable=True)
        batch_op.alter_column('uid_103_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 103',
               existing_nullable=True)
        batch_op.alter_column('uid_104_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 104',
               existing_nullable=True)
        batch_op.alter_column('uid_105_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 105',
               existing_nullable=True)
        batch_op.alter_column('uid_106_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 106',
               existing_nullable=True)
        batch_op.alter_column('uid_107_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 107',
               existing_nullable=True)
        batch_op.alter_column('uid_108_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 108',
               existing_nullable=True)
        batch_op.alter_column('uid_109_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 109',
               existing_nullable=True)
        batch_op.alter_column('uid_110_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 110',
               existing_nullable=True)
        batch_op.alter_column('uid_111_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 111',
               existing_nullable=True)
        batch_op.alter_column('uid_112_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 112',
               existing_nullable=True)
        batch_op.alter_column('uid_113_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 113',
               existing_nullable=True)
        batch_op.alter_column('uid_114_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 114',
               existing_nullable=True)
        batch_op.alter_column('uid_115_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 115',
               existing_nullable=True)
        batch_op.alter_column('uid_116_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 116',
               existing_nullable=True)
        batch_op.alter_column('uid_117_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 117',
               existing_nullable=True)
        batch_op.alter_column('uid_118_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 118',
               existing_nullable=True)
        batch_op.alter_column('uid_119_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 119',
               existing_nullable=True)
        batch_op.alter_column('uid_120_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 120',
               existing_nullable=True)
        batch_op.alter_column('uid_121_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 121',
               existing_nullable=True)
        batch_op.alter_column('uid_122_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 122',
               existing_nullable=True)
        batch_op.alter_column('uid_123_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 123',
               existing_nullable=True)
        batch_op.alter_column('uid_124_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 124',
               existing_nullable=True)
        batch_op.alter_column('uid_125_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 125',
               existing_nullable=True)
        batch_op.alter_column('uid_126_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 126',
               existing_nullable=True)
        batch_op.alter_column('uid_127_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 127',
               existing_nullable=True)
        batch_op.alter_column('uid_128_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 128',
               existing_nullable=True)
        batch_op.alter_column('uid_129_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 129',
               existing_nullable=True)
        batch_op.alter_column('uid_130_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 130',
               existing_nullable=True)
        batch_op.alter_column('uid_131_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 131',
               existing_nullable=True)
        batch_op.alter_column('uid_132_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 132',
               existing_nullable=True)
        batch_op.alter_column('uid_133_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 133',
               existing_nullable=True)
        batch_op.alter_column('uid_134_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 134',
               existing_nullable=True)
        batch_op.alter_column('uid_135_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 135',
               existing_nullable=True)
        batch_op.alter_column('uid_136_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 136',
               existing_nullable=True)
        batch_op.alter_column('uid_137_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 137',
               existing_nullable=True)
        batch_op.alter_column('uid_138_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 138',
               existing_nullable=True)
        batch_op.alter_column('uid_139_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 139',
               existing_nullable=True)
        batch_op.alter_column('uid_140_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 140',
               existing_nullable=True)
        batch_op.alter_column('uid_141_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 141',
               existing_nullable=True)
        batch_op.alter_column('uid_142_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 142',
               existing_nullable=True)
        batch_op.alter_column('uid_143_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 143',
               existing_nullable=True)
        batch_op.alter_column('uid_144_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 144',
               existing_nullable=True)
        batch_op.alter_column('uid_145_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 145',
               existing_nullable=True)
        batch_op.alter_column('uid_146_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 146',
               existing_nullable=True)
        batch_op.alter_column('uid_147_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 147',
               existing_nullable=True)
        batch_op.alter_column('uid_148_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 148',
               existing_nullable=True)
        batch_op.alter_column('uid_149_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 149',
               existing_nullable=True)
        batch_op.alter_column('uid_150_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 150',
               existing_nullable=True)
        batch_op.alter_column('uid_151_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 151',
               existing_nullable=True)
        batch_op.alter_column('uid_152_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 152',
               existing_nullable=True)
        batch_op.alter_column('uid_153_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 153',
               existing_nullable=True)
        batch_op.alter_column('uid_154_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 154',
               existing_nullable=True)
        batch_op.alter_column('uid_155_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 155',
               existing_nullable=True)
        batch_op.alter_column('uid_156_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 156',
               existing_nullable=True)
        batch_op.alter_column('uid_157_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 157',
               existing_nullable=True)
        batch_op.alter_column('uid_158_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 158',
               existing_nullable=True)
        batch_op.alter_column('uid_159_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 159',
               existing_nullable=True)
        batch_op.alter_column('uid_160_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 160',
               existing_nullable=True)
        batch_op.alter_column('uid_161_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 161',
               existing_nullable=True)
        batch_op.alter_column('uid_162_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 162',
               existing_nullable=True)
        batch_op.alter_column('uid_163_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 163',
               existing_nullable=True)
        batch_op.alter_column('uid_164_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 164',
               existing_nullable=True)
        batch_op.alter_column('uid_165_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 165',
               existing_nullable=True)
        batch_op.alter_column('uid_166_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 166',
               existing_nullable=True)
        batch_op.alter_column('uid_167_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 167',
               existing_nullable=True)
        batch_op.alter_column('uid_168_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 168',
               existing_nullable=True)
        batch_op.alter_column('uid_169_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 169',
               existing_nullable=True)
        batch_op.alter_column('uid_170_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 170',
               existing_nullable=True)
        batch_op.alter_column('uid_171_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 171',
               existing_nullable=True)
        batch_op.alter_column('uid_172_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 172',
               existing_nullable=True)
        batch_op.alter_column('uid_173_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 173',
               existing_nullable=True)
        batch_op.alter_column('uid_174_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 174',
               existing_nullable=True)
        batch_op.alter_column('uid_175_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 175',
               existing_nullable=True)
        batch_op.alter_column('uid_176_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 176',
               existing_nullable=True)
        batch_op.alter_column('uid_177_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 177',
               existing_nullable=True)
        batch_op.alter_column('uid_178_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 178',
               existing_nullable=True)
        batch_op.alter_column('uid_179_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 179',
               existing_nullable=True)
        batch_op.alter_column('uid_180_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 180',
               existing_nullable=True)
        batch_op.alter_column('uid_181_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 181',
               existing_nullable=True)
        batch_op.alter_column('uid_182_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 182',
               existing_nullable=True)
        batch_op.alter_column('uid_183_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 183',
               existing_nullable=True)
        batch_op.alter_column('uid_184_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 184',
               existing_nullable=True)
        batch_op.alter_column('uid_185_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 185',
               existing_nullable=True)
        batch_op.alter_column('uid_186_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 186',
               existing_nullable=True)
        batch_op.alter_column('uid_187_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 187',
               existing_nullable=True)
        batch_op.alter_column('uid_188_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 188',
               existing_nullable=True)
        batch_op.alter_column('uid_189_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 189',
               existing_nullable=True)
        batch_op.alter_column('uid_190_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 190',
               existing_nullable=True)
        batch_op.alter_column('uid_191_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 191',
               existing_nullable=True)
        batch_op.alter_column('uid_192_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 192',
               existing_nullable=True)
        batch_op.alter_column('uid_193_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 193',
               existing_nullable=True)
        batch_op.alter_column('uid_194_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 194',
               existing_nullable=True)
        batch_op.alter_column('uid_195_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 195',
               existing_nullable=True)
        batch_op.alter_column('uid_196_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 196',
               existing_nullable=True)
        batch_op.alter_column('uid_197_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 197',
               existing_nullable=True)
        batch_op.alter_column('uid_198_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 198',
               existing_nullable=True)
        batch_op.alter_column('uid_199_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 199',
               existing_nullable=True)
        batch_op.alter_column('uid_200_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 200',
               existing_nullable=True)
        batch_op.alter_column('uid_201_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 201',
               existing_nullable=True)
        batch_op.alter_column('uid_202_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 202',
               existing_nullable=True)
        batch_op.alter_column('uid_203_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 203',
               existing_nullable=True)
        batch_op.alter_column('uid_204_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 204',
               existing_nullable=True)
        batch_op.alter_column('uid_205_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 205',
               existing_nullable=True)
        batch_op.alter_column('uid_206_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 206',
               existing_nullable=True)
        batch_op.alter_column('uid_207_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 207',
               existing_nullable=True)
        batch_op.alter_column('uid_208_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 208',
               existing_nullable=True)
        batch_op.alter_column('uid_209_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 209',
               existing_nullable=True)
        batch_op.alter_column('uid_210_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 210',
               existing_nullable=True)
        batch_op.alter_column('uid_211_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 211',
               existing_nullable=True)
        batch_op.alter_column('uid_212_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 212',
               existing_nullable=True)
        batch_op.alter_column('uid_213_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 213',
               existing_nullable=True)
        batch_op.alter_column('uid_214_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 214',
               existing_nullable=True)
        batch_op.alter_column('uid_215_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 215',
               existing_nullable=True)
        batch_op.alter_column('uid_216_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 216',
               existing_nullable=True)
        batch_op.alter_column('uid_217_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 217',
               existing_nullable=True)
        batch_op.alter_column('uid_218_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 218',
               existing_nullable=True)
        batch_op.alter_column('uid_219_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 219',
               existing_nullable=True)
        batch_op.alter_column('uid_220_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 220',
               existing_nullable=True)
        batch_op.alter_column('uid_221_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 221',
               existing_nullable=True)
        batch_op.alter_column('uid_222_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 222',
               existing_nullable=True)
        batch_op.alter_column('uid_223_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 223',
               existing_nullable=True)
        batch_op.alter_column('uid_224_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 224',
               existing_nullable=True)
        batch_op.alter_column('uid_225_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 225',
               existing_nullable=True)
        batch_op.alter_column('uid_226_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 226',
               existing_nullable=True)
        batch_op.alter_column('uid_227_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 227',
               existing_nullable=True)
        batch_op.alter_column('uid_228_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 228',
               existing_nullable=True)
        batch_op.alter_column('uid_229_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 229',
               existing_nullable=True)
        batch_op.alter_column('uid_230_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 230',
               existing_nullable=True)
        batch_op.alter_column('uid_231_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 231',
               existing_nullable=True)
        batch_op.alter_column('uid_232_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 232',
               existing_nullable=True)
        batch_op.alter_column('uid_233_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 233',
               existing_nullable=True)
        batch_op.alter_column('uid_234_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 234',
               existing_nullable=True)
        batch_op.alter_column('uid_235_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 235',
               existing_nullable=True)
        batch_op.alter_column('uid_236_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 236',
               existing_nullable=True)
        batch_op.alter_column('uid_237_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 237',
               existing_nullable=True)
        batch_op.alter_column('uid_238_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 238',
               existing_nullable=True)
        batch_op.alter_column('uid_239_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 239',
               existing_nullable=True)
        batch_op.alter_column('uid_240_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 240',
               existing_nullable=True)
        batch_op.alter_column('uid_241_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 241',
               existing_nullable=True)
        batch_op.alter_column('uid_242_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 242',
               existing_nullable=True)
        batch_op.alter_column('uid_243_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 243',
               existing_nullable=True)
        batch_op.alter_column('uid_244_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 244',
               existing_nullable=True)
        batch_op.alter_column('uid_245_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 245',
               existing_nullable=True)
        batch_op.alter_column('uid_246_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 246',
               existing_nullable=True)
        batch_op.alter_column('uid_247_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 247',
               existing_nullable=True)
        batch_op.alter_column('uid_248_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 248',
               existing_nullable=True)
        batch_op.alter_column('uid_249_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 249',
               existing_nullable=True)
        batch_op.alter_column('uid_250_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 250',
               existing_nullable=True)
        batch_op.alter_column('uid_251_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 251',
               existing_nullable=True)
        batch_op.alter_column('uid_252_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 252',
               existing_nullable=True)
        batch_op.alter_column('uid_253_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 253',
               existing_nullable=True)
        batch_op.alter_column('uid_254_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 254',
               existing_nullable=True)
        batch_op.alter_column('uid_255_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment='Score for UID 255',
               existing_nullable=True)
        batch_op.alter_column('created_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               comment='Timestamp of score creation',
               existing_nullable=False,
               existing_server_default=sa.text('CURRENT_TIMESTAMP'))
        batch_op.alter_column('status',
               existing_type=sa.VARCHAR(length=50),
               comment='Status of the scoring process',
               existing_nullable=True,
               existing_server_default=sa.text("'pending'::character varying"))
        batch_op.drop_constraint(batch_op.f('uq_score_table_new_task_name_task_id'), type_='unique')
        batch_op.create_index('idx_score_table_task_name_created_at_desc', ['task_name', sa.literal_column('created_at DESC')], unique=False)
        batch_op.create_unique_constraint('uq_score_table_task_name_task_id', ['task_name', 'task_id'])
        batch_op.create_table_comment(
        'Table to store scores for various tasks with individual UID columns for efficient querying.',
        existing_comment=None
    )
        batch_op.drop_column('id')

    with op.batch_alter_table('soil_moisture_history', schema=None) as batch_op:
        batch_op.add_column(sa.Column('sentinel_bounds', postgresql.ARRAY(sa.Float()), nullable=True))
        batch_op.add_column(sa.Column('sentinel_crs', sa.Integer(), nullable=True))
        batch_op.create_index('idx_smh_miner_uid', ['miner_uid'], unique=False)

    with op.batch_alter_table('soil_moisture_predictions', schema=None) as batch_op:
        batch_op.create_index('idx_smp_miner_uid', ['miner_uid'], unique=False)

    # ### end Alembic commands ###


def downgrade() -> None:
    """Downgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    with op.batch_alter_table('soil_moisture_predictions', schema=None) as batch_op:
        batch_op.drop_index('idx_smp_miner_uid')

    with op.batch_alter_table('soil_moisture_history', schema=None) as batch_op:
        batch_op.drop_index('idx_smh_miner_uid')
        batch_op.drop_column('sentinel_crs')
        batch_op.drop_column('sentinel_bounds')

    with op.batch_alter_table('score_table', schema=None) as batch_op:
        batch_op.add_column(sa.Column('id', sa.INTEGER(), autoincrement=True, nullable=False))
        batch_op.drop_table_comment(
        existing_comment='Table to store scores for various tasks with individual UID columns for efficient querying.'
    )
        batch_op.drop_constraint('uq_score_table_task_name_task_id', type_='unique')
        batch_op.drop_index('idx_score_table_task_name_created_at_desc')
        batch_op.create_unique_constraint(batch_op.f('uq_score_table_new_task_name_task_id'), ['task_name', 'task_id'])
        batch_op.alter_column('status',
               existing_type=sa.VARCHAR(length=50),
               comment=None,
               existing_comment='Status of the scoring process',
               existing_nullable=True,
               existing_server_default=sa.text("'pending'::character varying"))
        batch_op.alter_column('created_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               comment=None,
               existing_comment='Timestamp of score creation',
               existing_nullable=False,
               existing_server_default=sa.text('CURRENT_TIMESTAMP'))
        batch_op.alter_column('uid_255_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 255',
               existing_nullable=True)
        batch_op.alter_column('uid_254_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 254',
               existing_nullable=True)
        batch_op.alter_column('uid_253_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 253',
               existing_nullable=True)
        batch_op.alter_column('uid_252_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 252',
               existing_nullable=True)
        batch_op.alter_column('uid_251_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 251',
               existing_nullable=True)
        batch_op.alter_column('uid_250_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 250',
               existing_nullable=True)
        batch_op.alter_column('uid_249_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 249',
               existing_nullable=True)
        batch_op.alter_column('uid_248_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 248',
               existing_nullable=True)
        batch_op.alter_column('uid_247_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 247',
               existing_nullable=True)
        batch_op.alter_column('uid_246_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 246',
               existing_nullable=True)
        batch_op.alter_column('uid_245_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 245',
               existing_nullable=True)
        batch_op.alter_column('uid_244_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 244',
               existing_nullable=True)
        batch_op.alter_column('uid_243_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 243',
               existing_nullable=True)
        batch_op.alter_column('uid_242_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 242',
               existing_nullable=True)
        batch_op.alter_column('uid_241_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 241',
               existing_nullable=True)
        batch_op.alter_column('uid_240_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 240',
               existing_nullable=True)
        batch_op.alter_column('uid_239_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 239',
               existing_nullable=True)
        batch_op.alter_column('uid_238_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 238',
               existing_nullable=True)
        batch_op.alter_column('uid_237_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 237',
               existing_nullable=True)
        batch_op.alter_column('uid_236_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 236',
               existing_nullable=True)
        batch_op.alter_column('uid_235_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 235',
               existing_nullable=True)
        batch_op.alter_column('uid_234_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 234',
               existing_nullable=True)
        batch_op.alter_column('uid_233_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 233',
               existing_nullable=True)
        batch_op.alter_column('uid_232_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 232',
               existing_nullable=True)
        batch_op.alter_column('uid_231_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 231',
               existing_nullable=True)
        batch_op.alter_column('uid_230_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 230',
               existing_nullable=True)
        batch_op.alter_column('uid_229_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 229',
               existing_nullable=True)
        batch_op.alter_column('uid_228_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 228',
               existing_nullable=True)
        batch_op.alter_column('uid_227_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 227',
               existing_nullable=True)
        batch_op.alter_column('uid_226_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 226',
               existing_nullable=True)
        batch_op.alter_column('uid_225_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 225',
               existing_nullable=True)
        batch_op.alter_column('uid_224_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 224',
               existing_nullable=True)
        batch_op.alter_column('uid_223_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 223',
               existing_nullable=True)
        batch_op.alter_column('uid_222_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 222',
               existing_nullable=True)
        batch_op.alter_column('uid_221_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 221',
               existing_nullable=True)
        batch_op.alter_column('uid_220_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 220',
               existing_nullable=True)
        batch_op.alter_column('uid_219_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 219',
               existing_nullable=True)
        batch_op.alter_column('uid_218_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 218',
               existing_nullable=True)
        batch_op.alter_column('uid_217_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 217',
               existing_nullable=True)
        batch_op.alter_column('uid_216_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 216',
               existing_nullable=True)
        batch_op.alter_column('uid_215_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 215',
               existing_nullable=True)
        batch_op.alter_column('uid_214_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 214',
               existing_nullable=True)
        batch_op.alter_column('uid_213_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 213',
               existing_nullable=True)
        batch_op.alter_column('uid_212_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 212',
               existing_nullable=True)
        batch_op.alter_column('uid_211_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 211',
               existing_nullable=True)
        batch_op.alter_column('uid_210_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 210',
               existing_nullable=True)
        batch_op.alter_column('uid_209_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 209',
               existing_nullable=True)
        batch_op.alter_column('uid_208_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 208',
               existing_nullable=True)
        batch_op.alter_column('uid_207_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 207',
               existing_nullable=True)
        batch_op.alter_column('uid_206_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 206',
               existing_nullable=True)
        batch_op.alter_column('uid_205_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 205',
               existing_nullable=True)
        batch_op.alter_column('uid_204_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 204',
               existing_nullable=True)
        batch_op.alter_column('uid_203_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 203',
               existing_nullable=True)
        batch_op.alter_column('uid_202_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 202',
               existing_nullable=True)
        batch_op.alter_column('uid_201_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 201',
               existing_nullable=True)
        batch_op.alter_column('uid_200_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 200',
               existing_nullable=True)
        batch_op.alter_column('uid_199_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 199',
               existing_nullable=True)
        batch_op.alter_column('uid_198_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 198',
               existing_nullable=True)
        batch_op.alter_column('uid_197_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 197',
               existing_nullable=True)
        batch_op.alter_column('uid_196_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 196',
               existing_nullable=True)
        batch_op.alter_column('uid_195_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 195',
               existing_nullable=True)
        batch_op.alter_column('uid_194_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 194',
               existing_nullable=True)
        batch_op.alter_column('uid_193_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 193',
               existing_nullable=True)
        batch_op.alter_column('uid_192_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 192',
               existing_nullable=True)
        batch_op.alter_column('uid_191_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 191',
               existing_nullable=True)
        batch_op.alter_column('uid_190_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 190',
               existing_nullable=True)
        batch_op.alter_column('uid_189_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 189',
               existing_nullable=True)
        batch_op.alter_column('uid_188_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 188',
               existing_nullable=True)
        batch_op.alter_column('uid_187_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 187',
               existing_nullable=True)
        batch_op.alter_column('uid_186_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 186',
               existing_nullable=True)
        batch_op.alter_column('uid_185_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 185',
               existing_nullable=True)
        batch_op.alter_column('uid_184_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 184',
               existing_nullable=True)
        batch_op.alter_column('uid_183_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 183',
               existing_nullable=True)
        batch_op.alter_column('uid_182_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 182',
               existing_nullable=True)
        batch_op.alter_column('uid_181_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 181',
               existing_nullable=True)
        batch_op.alter_column('uid_180_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 180',
               existing_nullable=True)
        batch_op.alter_column('uid_179_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 179',
               existing_nullable=True)
        batch_op.alter_column('uid_178_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 178',
               existing_nullable=True)
        batch_op.alter_column('uid_177_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 177',
               existing_nullable=True)
        batch_op.alter_column('uid_176_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 176',
               existing_nullable=True)
        batch_op.alter_column('uid_175_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 175',
               existing_nullable=True)
        batch_op.alter_column('uid_174_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 174',
               existing_nullable=True)
        batch_op.alter_column('uid_173_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 173',
               existing_nullable=True)
        batch_op.alter_column('uid_172_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 172',
               existing_nullable=True)
        batch_op.alter_column('uid_171_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 171',
               existing_nullable=True)
        batch_op.alter_column('uid_170_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 170',
               existing_nullable=True)
        batch_op.alter_column('uid_169_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 169',
               existing_nullable=True)
        batch_op.alter_column('uid_168_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 168',
               existing_nullable=True)
        batch_op.alter_column('uid_167_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 167',
               existing_nullable=True)
        batch_op.alter_column('uid_166_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 166',
               existing_nullable=True)
        batch_op.alter_column('uid_165_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 165',
               existing_nullable=True)
        batch_op.alter_column('uid_164_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 164',
               existing_nullable=True)
        batch_op.alter_column('uid_163_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 163',
               existing_nullable=True)
        batch_op.alter_column('uid_162_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 162',
               existing_nullable=True)
        batch_op.alter_column('uid_161_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 161',
               existing_nullable=True)
        batch_op.alter_column('uid_160_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 160',
               existing_nullable=True)
        batch_op.alter_column('uid_159_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 159',
               existing_nullable=True)
        batch_op.alter_column('uid_158_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 158',
               existing_nullable=True)
        batch_op.alter_column('uid_157_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 157',
               existing_nullable=True)
        batch_op.alter_column('uid_156_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 156',
               existing_nullable=True)
        batch_op.alter_column('uid_155_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 155',
               existing_nullable=True)
        batch_op.alter_column('uid_154_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 154',
               existing_nullable=True)
        batch_op.alter_column('uid_153_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 153',
               existing_nullable=True)
        batch_op.alter_column('uid_152_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 152',
               existing_nullable=True)
        batch_op.alter_column('uid_151_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 151',
               existing_nullable=True)
        batch_op.alter_column('uid_150_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 150',
               existing_nullable=True)
        batch_op.alter_column('uid_149_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 149',
               existing_nullable=True)
        batch_op.alter_column('uid_148_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 148',
               existing_nullable=True)
        batch_op.alter_column('uid_147_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 147',
               existing_nullable=True)
        batch_op.alter_column('uid_146_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 146',
               existing_nullable=True)
        batch_op.alter_column('uid_145_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 145',
               existing_nullable=True)
        batch_op.alter_column('uid_144_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 144',
               existing_nullable=True)
        batch_op.alter_column('uid_143_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 143',
               existing_nullable=True)
        batch_op.alter_column('uid_142_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 142',
               existing_nullable=True)
        batch_op.alter_column('uid_141_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 141',
               existing_nullable=True)
        batch_op.alter_column('uid_140_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 140',
               existing_nullable=True)
        batch_op.alter_column('uid_139_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 139',
               existing_nullable=True)
        batch_op.alter_column('uid_138_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 138',
               existing_nullable=True)
        batch_op.alter_column('uid_137_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 137',
               existing_nullable=True)
        batch_op.alter_column('uid_136_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 136',
               existing_nullable=True)
        batch_op.alter_column('uid_135_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 135',
               existing_nullable=True)
        batch_op.alter_column('uid_134_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 134',
               existing_nullable=True)
        batch_op.alter_column('uid_133_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 133',
               existing_nullable=True)
        batch_op.alter_column('uid_132_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 132',
               existing_nullable=True)
        batch_op.alter_column('uid_131_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 131',
               existing_nullable=True)
        batch_op.alter_column('uid_130_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 130',
               existing_nullable=True)
        batch_op.alter_column('uid_129_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 129',
               existing_nullable=True)
        batch_op.alter_column('uid_128_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 128',
               existing_nullable=True)
        batch_op.alter_column('uid_127_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 127',
               existing_nullable=True)
        batch_op.alter_column('uid_126_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 126',
               existing_nullable=True)
        batch_op.alter_column('uid_125_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 125',
               existing_nullable=True)
        batch_op.alter_column('uid_124_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 124',
               existing_nullable=True)
        batch_op.alter_column('uid_123_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 123',
               existing_nullable=True)
        batch_op.alter_column('uid_122_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 122',
               existing_nullable=True)
        batch_op.alter_column('uid_121_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 121',
               existing_nullable=True)
        batch_op.alter_column('uid_120_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 120',
               existing_nullable=True)
        batch_op.alter_column('uid_119_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 119',
               existing_nullable=True)
        batch_op.alter_column('uid_118_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 118',
               existing_nullable=True)
        batch_op.alter_column('uid_117_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 117',
               existing_nullable=True)
        batch_op.alter_column('uid_116_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 116',
               existing_nullable=True)
        batch_op.alter_column('uid_115_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 115',
               existing_nullable=True)
        batch_op.alter_column('uid_114_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 114',
               existing_nullable=True)
        batch_op.alter_column('uid_113_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 113',
               existing_nullable=True)
        batch_op.alter_column('uid_112_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 112',
               existing_nullable=True)
        batch_op.alter_column('uid_111_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 111',
               existing_nullable=True)
        batch_op.alter_column('uid_110_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 110',
               existing_nullable=True)
        batch_op.alter_column('uid_109_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 109',
               existing_nullable=True)
        batch_op.alter_column('uid_108_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 108',
               existing_nullable=True)
        batch_op.alter_column('uid_107_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 107',
               existing_nullable=True)
        batch_op.alter_column('uid_106_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 106',
               existing_nullable=True)
        batch_op.alter_column('uid_105_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 105',
               existing_nullable=True)
        batch_op.alter_column('uid_104_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 104',
               existing_nullable=True)
        batch_op.alter_column('uid_103_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 103',
               existing_nullable=True)
        batch_op.alter_column('uid_102_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 102',
               existing_nullable=True)
        batch_op.alter_column('uid_101_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 101',
               existing_nullable=True)
        batch_op.alter_column('uid_100_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 100',
               existing_nullable=True)
        batch_op.alter_column('uid_99_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 99',
               existing_nullable=True)
        batch_op.alter_column('uid_98_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 98',
               existing_nullable=True)
        batch_op.alter_column('uid_97_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 97',
               existing_nullable=True)
        batch_op.alter_column('uid_96_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 96',
               existing_nullable=True)
        batch_op.alter_column('uid_95_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 95',
               existing_nullable=True)
        batch_op.alter_column('uid_94_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 94',
               existing_nullable=True)
        batch_op.alter_column('uid_93_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 93',
               existing_nullable=True)
        batch_op.alter_column('uid_92_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 92',
               existing_nullable=True)
        batch_op.alter_column('uid_91_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 91',
               existing_nullable=True)
        batch_op.alter_column('uid_90_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 90',
               existing_nullable=True)
        batch_op.alter_column('uid_89_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 89',
               existing_nullable=True)
        batch_op.alter_column('uid_88_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 88',
               existing_nullable=True)
        batch_op.alter_column('uid_87_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 87',
               existing_nullable=True)
        batch_op.alter_column('uid_86_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 86',
               existing_nullable=True)
        batch_op.alter_column('uid_85_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 85',
               existing_nullable=True)
        batch_op.alter_column('uid_84_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 84',
               existing_nullable=True)
        batch_op.alter_column('uid_83_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 83',
               existing_nullable=True)
        batch_op.alter_column('uid_82_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 82',
               existing_nullable=True)
        batch_op.alter_column('uid_81_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 81',
               existing_nullable=True)
        batch_op.alter_column('uid_80_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 80',
               existing_nullable=True)
        batch_op.alter_column('uid_79_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 79',
               existing_nullable=True)
        batch_op.alter_column('uid_78_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 78',
               existing_nullable=True)
        batch_op.alter_column('uid_77_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 77',
               existing_nullable=True)
        batch_op.alter_column('uid_76_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 76',
               existing_nullable=True)
        batch_op.alter_column('uid_75_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 75',
               existing_nullable=True)
        batch_op.alter_column('uid_74_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 74',
               existing_nullable=True)
        batch_op.alter_column('uid_73_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 73',
               existing_nullable=True)
        batch_op.alter_column('uid_72_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 72',
               existing_nullable=True)
        batch_op.alter_column('uid_71_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 71',
               existing_nullable=True)
        batch_op.alter_column('uid_70_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 70',
               existing_nullable=True)
        batch_op.alter_column('uid_69_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 69',
               existing_nullable=True)
        batch_op.alter_column('uid_68_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 68',
               existing_nullable=True)
        batch_op.alter_column('uid_67_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 67',
               existing_nullable=True)
        batch_op.alter_column('uid_66_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 66',
               existing_nullable=True)
        batch_op.alter_column('uid_65_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 65',
               existing_nullable=True)
        batch_op.alter_column('uid_64_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 64',
               existing_nullable=True)
        batch_op.alter_column('uid_63_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 63',
               existing_nullable=True)
        batch_op.alter_column('uid_62_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 62',
               existing_nullable=True)
        batch_op.alter_column('uid_61_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 61',
               existing_nullable=True)
        batch_op.alter_column('uid_60_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 60',
               existing_nullable=True)
        batch_op.alter_column('uid_59_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 59',
               existing_nullable=True)
        batch_op.alter_column('uid_58_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 58',
               existing_nullable=True)
        batch_op.alter_column('uid_57_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 57',
               existing_nullable=True)
        batch_op.alter_column('uid_56_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 56',
               existing_nullable=True)
        batch_op.alter_column('uid_55_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 55',
               existing_nullable=True)
        batch_op.alter_column('uid_54_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 54',
               existing_nullable=True)
        batch_op.alter_column('uid_53_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 53',
               existing_nullable=True)
        batch_op.alter_column('uid_52_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 52',
               existing_nullable=True)
        batch_op.alter_column('uid_51_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 51',
               existing_nullable=True)
        batch_op.alter_column('uid_50_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 50',
               existing_nullable=True)
        batch_op.alter_column('uid_49_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 49',
               existing_nullable=True)
        batch_op.alter_column('uid_48_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 48',
               existing_nullable=True)
        batch_op.alter_column('uid_47_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 47',
               existing_nullable=True)
        batch_op.alter_column('uid_46_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 46',
               existing_nullable=True)
        batch_op.alter_column('uid_45_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 45',
               existing_nullable=True)
        batch_op.alter_column('uid_44_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 44',
               existing_nullable=True)
        batch_op.alter_column('uid_43_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 43',
               existing_nullable=True)
        batch_op.alter_column('uid_42_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 42',
               existing_nullable=True)
        batch_op.alter_column('uid_41_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 41',
               existing_nullable=True)
        batch_op.alter_column('uid_40_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 40',
               existing_nullable=True)
        batch_op.alter_column('uid_39_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 39',
               existing_nullable=True)
        batch_op.alter_column('uid_38_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 38',
               existing_nullable=True)
        batch_op.alter_column('uid_37_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 37',
               existing_nullable=True)
        batch_op.alter_column('uid_36_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 36',
               existing_nullable=True)
        batch_op.alter_column('uid_35_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 35',
               existing_nullable=True)
        batch_op.alter_column('uid_34_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 34',
               existing_nullable=True)
        batch_op.alter_column('uid_33_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 33',
               existing_nullable=True)
        batch_op.alter_column('uid_32_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 32',
               existing_nullable=True)
        batch_op.alter_column('uid_31_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 31',
               existing_nullable=True)
        batch_op.alter_column('uid_30_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 30',
               existing_nullable=True)
        batch_op.alter_column('uid_29_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 29',
               existing_nullable=True)
        batch_op.alter_column('uid_28_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 28',
               existing_nullable=True)
        batch_op.alter_column('uid_27_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 27',
               existing_nullable=True)
        batch_op.alter_column('uid_26_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 26',
               existing_nullable=True)
        batch_op.alter_column('uid_25_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 25',
               existing_nullable=True)
        batch_op.alter_column('uid_24_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 24',
               existing_nullable=True)
        batch_op.alter_column('uid_23_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 23',
               existing_nullable=True)
        batch_op.alter_column('uid_22_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 22',
               existing_nullable=True)
        batch_op.alter_column('uid_21_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 21',
               existing_nullable=True)
        batch_op.alter_column('uid_20_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 20',
               existing_nullable=True)
        batch_op.alter_column('uid_19_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 19',
               existing_nullable=True)
        batch_op.alter_column('uid_18_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 18',
               existing_nullable=True)
        batch_op.alter_column('uid_17_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 17',
               existing_nullable=True)
        batch_op.alter_column('uid_16_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 16',
               existing_nullable=True)
        batch_op.alter_column('uid_15_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 15',
               existing_nullable=True)
        batch_op.alter_column('uid_14_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 14',
               existing_nullable=True)
        batch_op.alter_column('uid_13_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 13',
               existing_nullable=True)
        batch_op.alter_column('uid_12_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 12',
               existing_nullable=True)
        batch_op.alter_column('uid_11_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 11',
               existing_nullable=True)
        batch_op.alter_column('uid_10_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 10',
               existing_nullable=True)
        batch_op.alter_column('uid_9_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 9',
               existing_nullable=True)
        batch_op.alter_column('uid_8_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 8',
               existing_nullable=True)
        batch_op.alter_column('uid_7_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 7',
               existing_nullable=True)
        batch_op.alter_column('uid_6_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 6',
               existing_nullable=True)
        batch_op.alter_column('uid_5_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 5',
               existing_nullable=True)
        batch_op.alter_column('uid_4_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 4',
               existing_nullable=True)
        batch_op.alter_column('uid_3_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 3',
               existing_nullable=True)
        batch_op.alter_column('uid_2_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 2',
               existing_nullable=True)
        batch_op.alter_column('uid_1_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 1',
               existing_nullable=True)
        batch_op.alter_column('uid_0_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               comment=None,
               existing_comment='Score for UID 0',
               existing_nullable=True)
        batch_op.alter_column('task_id',
               existing_type=sa.TEXT(),
               comment=None,
               existing_comment='Unique ID for the specific task instance',
               existing_nullable=True)
        batch_op.alter_column('task_name',
               existing_type=sa.VARCHAR(length=255),
               comment=None,
               existing_comment='Name of the task being scored',
               existing_nullable=True)

    with op.batch_alter_table('perturb_seed', schema=None) as batch_op:
        batch_op.create_index(batch_op.f('idx_perturb_seed_activation'), ['activation_hour'], unique=False)

    with op.batch_alter_table('geomagnetic_predictions', schema=None) as batch_op:
        batch_op.drop_index('idx_gp_miner_uid_query_time')
        batch_op.drop_index('idx_gp_miner_uid')
        batch_op.alter_column('retry_count',
               existing_type=sa.INTEGER(),
               server_default=None,
               existing_nullable=True)

    with op.batch_alter_table('geomagnetic_history', schema=None) as batch_op:
        batch_op.drop_index('idx_gh_query_time_miner_uid')

    op.create_table('miner_performance_stats',
    sa.Column('id', sa.INTEGER(), autoincrement=True, nullable=False),
    sa.Column('miner_hotkey', sa.TEXT(), autoincrement=False, nullable=False, comment="Miner's hotkey"),
    sa.Column('period_start', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False, comment='Start of the performance period'),
    sa.Column('period_end', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False, comment='End of the performance period'),
    sa.Column('period_type', sa.VARCHAR(length=20), autoincrement=False, nullable=False, comment='Type of period: daily, weekly, monthly, all_time'),
    sa.Column('total_tasks_attempted', sa.INTEGER(), server_default=sa.text('0'), autoincrement=False, nullable=False, comment='Total tasks attempted across all types'),
    sa.Column('total_tasks_completed', sa.INTEGER(), server_default=sa.text('0'), autoincrement=False, nullable=False, comment='Total tasks successfully completed'),
    sa.Column('total_tasks_scored', sa.INTEGER(), server_default=sa.text('0'), autoincrement=False, nullable=False, comment='Total tasks that received scores'),
    sa.Column('overall_success_rate', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Completion rate (completed/attempted)'),
    sa.Column('overall_avg_score', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Weighted average score across all task types'),
    sa.Column('overall_rank', sa.INTEGER(), autoincrement=False, nullable=True, comment='Overall rank among all miners for this period'),
    sa.Column('weather_tasks_attempted', sa.INTEGER(), server_default=sa.text('0'), autoincrement=False, nullable=False),
    sa.Column('weather_tasks_completed', sa.INTEGER(), server_default=sa.text('0'), autoincrement=False, nullable=False),
    sa.Column('weather_tasks_scored', sa.INTEGER(), server_default=sa.text('0'), autoincrement=False, nullable=False),
    sa.Column('weather_avg_score', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Average weather forecast score'),
    sa.Column('weather_success_rate', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('weather_rank', sa.INTEGER(), autoincrement=False, nullable=True, comment='Rank in weather forecasting'),
    sa.Column('weather_best_score', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Best weather score in period'),
    sa.Column('weather_latest_score', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Most recent weather score'),
    sa.Column('soil_moisture_tasks_attempted', sa.INTEGER(), server_default=sa.text('0'), autoincrement=False, nullable=False),
    sa.Column('soil_moisture_tasks_completed', sa.INTEGER(), server_default=sa.text('0'), autoincrement=False, nullable=False),
    sa.Column('soil_moisture_tasks_scored', sa.INTEGER(), server_default=sa.text('0'), autoincrement=False, nullable=False),
    sa.Column('soil_moisture_avg_score', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Average combined soil moisture score'),
    sa.Column('soil_moisture_success_rate', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('soil_moisture_rank', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('soil_moisture_surface_rmse_avg', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Average surface RMSE'),
    sa.Column('soil_moisture_rootzone_rmse_avg', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Average rootzone RMSE'),
    sa.Column('soil_moisture_best_score', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('soil_moisture_latest_score', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('geomagnetic_tasks_attempted', sa.INTEGER(), server_default=sa.text('0'), autoincrement=False, nullable=False),
    sa.Column('geomagnetic_tasks_completed', sa.INTEGER(), server_default=sa.text('0'), autoincrement=False, nullable=False),
    sa.Column('geomagnetic_tasks_scored', sa.INTEGER(), server_default=sa.text('0'), autoincrement=False, nullable=False),
    sa.Column('geomagnetic_avg_score', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Average geomagnetic prediction score'),
    sa.Column('geomagnetic_success_rate', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('geomagnetic_rank', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('geomagnetic_best_score', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('geomagnetic_latest_score', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('geomagnetic_avg_error', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Average prediction error magnitude'),
    sa.Column('performance_trend', sa.VARCHAR(length=20), autoincrement=False, nullable=True, comment='improving, declining, stable, insufficient_data'),
    sa.Column('trend_confidence', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Confidence in trend assessment (0-1)'),
    sa.Column('last_active_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=True, comment='Last time miner submitted a task'),
    sa.Column('consecutive_failures', sa.INTEGER(), server_default=sa.text('0'), autoincrement=False, nullable=False, comment='Number of consecutive failed tasks'),
    sa.Column('uptime_percentage', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Percentage of time miner was responsive'),
    sa.Column('detailed_metrics', postgresql.JSONB(astext_type=sa.Text()), autoincrement=False, nullable=True, comment='Additional detailed metrics and breakdowns'),
    sa.Column('score_distribution', postgresql.JSONB(astext_type=sa.Text()), autoincrement=False, nullable=True, comment='Score percentiles and distribution stats'),
    sa.Column('calculated_at', postgresql.TIMESTAMP(timezone=True), server_default=sa.text('CURRENT_TIMESTAMP'), autoincrement=False, nullable=False),
    sa.Column('updated_at', postgresql.TIMESTAMP(timezone=True), server_default=sa.text('CURRENT_TIMESTAMP'), autoincrement=False, nullable=False),
    sa.Column('submitted_weight', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Final weight submitted to chain by this validator'),
    sa.Column('raw_calculated_weight', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Pre-normalization weight from scoring algorithm'),
    sa.Column('excellence_weight', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Weight from excellence pathway calculation'),
    sa.Column('diversity_weight', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Weight from diversity pathway calculation'),
    sa.Column('scoring_pathway', sa.VARCHAR(length=20), autoincrement=False, nullable=True, comment='Which pathway was selected: excellence, diversity, or none'),
    sa.Column('pathway_details', postgresql.JSONB(astext_type=sa.Text()), autoincrement=False, nullable=True, comment='Detailed breakdown of pathway calculation'),
    sa.Column('incentive', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Final incentive value from chain consensus'),
    sa.Column('consensus_rank', sa.INTEGER(), autoincrement=False, nullable=True, comment='Miner rank based on final incentive values'),
    sa.Column('weight_submission_block', sa.BIGINT(), autoincrement=False, nullable=True, comment='Block number when weights were submitted'),
    sa.Column('consensus_block', sa.BIGINT(), autoincrement=False, nullable=True, comment='Block number when consensus was calculated'),
    sa.Column('weather_weight_contribution', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Contribution of weather task to final weight'),
    sa.Column('geomagnetic_weight_contribution', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Contribution of geomagnetic task to final weight'),
    sa.Column('soil_weight_contribution', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Contribution of soil moisture task to final weight'),
    sa.Column('multi_task_bonus', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Bonus for performing multiple tasks well'),
    sa.Column('percentile_rank_weather', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Percentile rank in weather forecasting (0-100)'),
    sa.Column('percentile_rank_geomagnetic', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Percentile rank in geomagnetic predictions (0-100)'),
    sa.Column('percentile_rank_soil', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True, comment='Percentile rank in soil moisture predictions (0-100)'),
    sa.Column('excellence_qualified_tasks', postgresql.ARRAY(sa.TEXT()), autoincrement=False, nullable=True, comment='Array of tasks where miner qualified for excellence pathway'),
    sa.Column('validator_hotkey', sa.TEXT(), autoincrement=False, nullable=True, comment='Which validator calculated these stats'),
    sa.Column('miner_uid', sa.INTEGER(), autoincrement=False, nullable=False),
    sa.CheckConstraint("(scoring_pathway::text = ANY (ARRAY['excellence'::character varying, 'diversity'::character varying, 'none'::character varying]::text[])) OR scoring_pathway IS NULL", name=op.f('chk_scoring_pathway')),
    sa.CheckConstraint('percentile_rank_weather IS NULL OR percentile_rank_weather >= 0::double precision AND percentile_rank_weather <= 100::double precision) AND (percentile_rank_geomagnetic IS NULL OR percentile_rank_geomagnetic >= 0::double precision AND percentile_rank_geomagnetic <= 100::double precision) AND (percentile_rank_soil IS NULL OR percentile_rank_soil >= 0::double precision AND percentile_rank_soil <= 100::double precision', name=op.f('chk_percentile_ranges')),
    sa.ForeignKeyConstraint(['miner_uid'], ['node_table.uid'], name=op.f('fk_miner_performance_stats_miner_uid'), ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id', name=op.f('miner_performance_stats_pkey')),
    sa.UniqueConstraint('miner_uid', 'period_start', 'period_end', 'period_type', name=op.f('uq_mps_miner_period')),
    comment='Comprehensive miner performance statistics aggregated across all task types for visualization and analysis.'
    )
    with op.batch_alter_table('miner_performance_stats', schema=None) as batch_op:
        batch_op.create_index(batch_op.f('idx_mps_weight_submission_block'), [sa.literal_column('weight_submission_block DESC')], unique=False, postgresql_where='(weight_submission_block IS NOT NULL)')
        batch_op.create_index(batch_op.f('idx_mps_weather_rank'), ['weather_rank', 'period_type'], unique=False)
        batch_op.create_index(batch_op.f('idx_mps_validator_hotkey'), ['validator_hotkey', sa.literal_column('period_start DESC')], unique=False)
        batch_op.create_index(batch_op.f('idx_mps_submitted_weight'), [sa.literal_column('submitted_weight DESC')], unique=False, postgresql_where='(submitted_weight IS NOT NULL)')
        batch_op.create_index(batch_op.f('idx_mps_soil_rank'), ['soil_moisture_rank', 'period_type'], unique=False)
        batch_op.create_index(batch_op.f('idx_mps_scoring_pathway'), ['scoring_pathway', 'period_type'], unique=False)
        batch_op.create_index(batch_op.f('idx_mps_period_type_start'), ['period_type', sa.literal_column('period_start DESC')], unique=False)
        batch_op.create_index(batch_op.f('idx_mps_pathway_performance'), ['scoring_pathway', sa.literal_column('submitted_weight DESC'), 'period_type'], unique=False)
        batch_op.create_index(batch_op.f('idx_mps_overall_score'), [sa.literal_column('overall_avg_score DESC'), 'period_type'], unique=False)
        batch_op.create_index(batch_op.f('idx_mps_overall_rank'), ['overall_rank', 'period_type'], unique=False)
        batch_op.create_index(batch_op.f('idx_mps_miner_hotkey'), ['miner_hotkey'], unique=False)
        batch_op.create_index(batch_op.f('idx_mps_last_active'), [sa.literal_column('last_active_time DESC')], unique=False)
        batch_op.create_index(batch_op.f('idx_mps_incentive'), [sa.literal_column('incentive DESC')], unique=False, postgresql_where='(incentive IS NOT NULL)')
        batch_op.create_index(batch_op.f('idx_mps_geomagnetic_rank'), ['geomagnetic_rank', 'period_type'], unique=False)
        batch_op.create_index(batch_op.f('idx_mps_consensus_rank'), ['consensus_rank', 'period_type'], unique=False, postgresql_where='(consensus_rank IS NOT NULL)')
        batch_op.create_index(batch_op.f('idx_mps_chain_integration'), ['weight_submission_block', 'consensus_block'], unique=False, postgresql_where='(weight_submission_block IS NOT NULL)')
        batch_op.create_index(batch_op.f('idx_mps_calculated_at'), [sa.literal_column('calculated_at DESC')], unique=False)

    with op.batch_alter_table('weather_forecast_stats', schema=None) as batch_op:
        batch_op.drop_index('idx_wfs_run_id')
        batch_op.drop_index('idx_wfs_miner_uid')
        batch_op.drop_index('idx_wfs_miner_rank')
        batch_op.drop_index('idx_wfs_miner_hotkey')
        batch_op.drop_index('idx_wfs_forecast_type_init_time')
        batch_op.drop_index('idx_wfs_forecast_status')
        batch_op.drop_index('idx_wfs_forecast_run_id')
        batch_op.drop_index('idx_wfs_forecast_init_time')
        batch_op.drop_index('idx_wfs_era5_combined_score')
        batch_op.drop_index('idx_wfs_created_at')

    op.drop_table('weather_forecast_stats')
    with op.batch_alter_table('miner_stats', schema=None) as batch_op:
        batch_op.drop_index('idx_ms_miner_rank')
        batch_op.drop_index('idx_ms_miner_hotkey')
        batch_op.drop_index('idx_ms_last_active')
        batch_op.drop_index('idx_ms_host_reliability_ratio')
        batch_op.drop_index('idx_ms_forecast_success_ratio')
        batch_op.drop_index('idx_ms_consecutive_failures')
        batch_op.drop_index('idx_ms_avg_forecast_score')
        batch_op.drop_index('idx_ms_active_miners', postgresql_where=sa.text('last_active IS NOT NULL'))

    op.drop_table('miner_stats')
    # ### end Alembic commands ###
